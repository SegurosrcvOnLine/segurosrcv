<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seguros RCV Online | Sistema 7.0</title>
    <!-- Librer√≠as --><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seguros RCV Online | Sistema 7.0</title>
    <!-- Librer√≠as -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Roboto+Mono:wght@400;500&family=Courier+Prime:wght@700&family=Special+Elite&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .hero-gradient { background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 100%); }
        
        /* Animaci√≥n Bot√≥n WhatsApp */
        .whatsapp-float {
            position: fixed; bottom: 20px; right: 20px; z-index: 50;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(37, 211, 102, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
        }

        /* Estilos Tarjetas de Pago */
        .pay-card { transition: transform 0.2s; }
        .pay-card:hover { transform: translateY(-5px); }
        .copy-btn { cursor: pointer; opacity: 0.7; transition: 0.2s; }
        .copy-btn:hover { opacity: 1; transform: scale(1.1); }

        /* ESTILOS DE IMPRESI√ìN (PDF) */
        @media print {
            body * { visibility: hidden; }
            #policy-certificate, #policy-certificate * { visibility: visible; }
            #policy-certificate { 
                position: absolute; left: 0; top: 0; width: 100%; margin: 0; padding: 0;
                box-shadow: none; border: 2px solid #1e3a8a;
            }
            #app-public, #app-admin-sidebar, #login-modal { display: none !important; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- ======================================================================== -->
    <!-- VISTA P√öBLICA (CLIENTES) -->
    <!-- ======================================================================== -->
    <div id="app-public">
        
        <!-- Navbar -->
        <nav class="bg-white shadow-sm fixed w-full z-40 top-0">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16 items-center">
                    <div class="flex items-center text-blue-900">
                        <i data-lucide="shield-check" class="h-8 w-8 mr-2 text-blue-600"></i>
                        <span class="font-bold text-xl tracking-tight">Seguros RCV Online</span>
                    </div>
                    <div class="hidden md:flex space-x-8">
                        <a href="#inicio" class="text-gray-600 hover:text-blue-600 font-medium">Inicio</a>
                        <a href="#precios" class="text-gray-600 hover:text-blue-600 font-medium">Precios</a>
                        <a href="#pagos" class="text-blue-600 font-bold hover:text-blue-800">M√©todos de Pago</a>
                        <a href="#verificacion" class="text-gray-600 hover:text-blue-600 font-medium">Verificar</a>
                    </div>
                    <button class="md:hidden text-gray-600" onclick="toggleMobileMenu()">
                        <i data-lucide="menu" class="h-6 w-6"></i>
                    </button>
                </div>
            </div>
            <!-- Men√∫ M√≥vil -->
            <div id="mobile-menu" class="hidden md:hidden bg-white border-t p-4">
                <a href="#precios" class="block py-2 text-gray-600">Precios</a>
                <a href="#pagos" class="block py-2 text-blue-600 font-bold">Pagar Ahora</a>
                <a href="#verificacion" class="block py-2 text-gray-600">Verificar P√≥liza</a>
            </div>
        </nav>

        <!-- Hero Section -->
        <header id="inicio" class="hero-gradient text-white pt-24 pb-16 lg:pt-32 lg:pb-24 rounded-b-[3rem]">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row items-center">
                <div class="md:w-1/2 text-center md:text-left mb-10 md:mb-0">
                    <span class="bg-blue-500 bg-opacity-20 text-blue-100 px-4 py-1 rounded-full text-sm font-semibold mb-4 inline-block">
                        üîí Cumple con la Ley de Tr√°nsito
                    </span>
                    <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-6">
                        Tu RCV Legal <br/>en <span class="text-blue-400">5 Minutos</span>
                    </h1>
                    <p class="text-lg text-blue-100 mb-8 max-w-lg mx-auto md:mx-0">
                        Evita multas y retenciones. P√≥liza con C√≥digo QR (Sistema 5.0) verificable al instante.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                        <a href="#precios" class="bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-full font-bold text-lg transition shadow-lg text-center flex items-center justify-center">
                            Ver Planes <i data-lucide="chevron-right" class="ml-2 w-5 h-5"></i>
                        </a>
                        <button onclick="contactWhatsapp('Quiero informaci√≥n general')" class="bg-white text-blue-900 hover:bg-gray-100 px-8 py-3 rounded-full font-bold text-lg transition shadow-lg border-2 border-transparent hover:border-blue-200 flex items-center justify-center">
                            <i data-lucide="message-circle" class="mr-2 w-5 h-5"></i> Chat WhatsApp
                        </button>
                    </div>
                </div>
                <div class="md:w-1/2 flex justify-center">
                    <div class="relative w-80 h-80 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm shadow-2xl border border-white/20">
                        <i data-lucide="car-front" class="w-40 h-40 text-white drop-shadow-lg"></i>
                    </div>
                </div>
            </div>
        </header>

        <!-- Precios -->
        <section id="precios" class="py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl font-bold text-gray-900 mb-12">Nuestros Planes</h2>
                <div class="flex flex-wrap justify-center gap-8">
                    
                    <!-- Tarjeta Moto -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100 w-full md:w-80 hover:shadow-xl transition">
                        <div class="text-center mb-4"><i class="fas fa-motorcycle text-4xl text-blue-900"></i><h3 class="text-xl font-bold mt-2">Motos</h3></div>
                        <div class="bg-green-50 p-3 rounded mb-3 border border-green-100">
                            <div class="font-bold text-green-800 text-xs mb-1">MULTISEGUROS (B√°sico)</div>
                            <div class="flex justify-between text-sm"><span>Econ√≥mico</span><b>$6</b></div>
                            <div class="flex justify-between text-sm"><span>Plus</span><b>$8</b></div>
                        </div>
                        <div class="bg-blue-50 p-3 rounded border border-blue-100 relative">
                            <div class="absolute -top-2 -right-2 bg-blue-900 text-white text-[9px] px-2 py-1 rounded font-bold">CON QR üì≤</div>
                            <div class="font-bold text-blue-800 text-xs mb-1">CONSERES (Premium)</div>
                            <div class="flex justify-between text-sm"><span>Est√°ndar</span><b>$10</b></div>
                            <div class="flex justify-between text-sm"><span>Full</span><b>$15</b></div>
                        </div>
                        <button onclick="contactWhatsapp('Me interesa RCV Moto')" class="w-full mt-4 bg-gray-900 text-white py-2 rounded-lg font-bold hover:bg-gray-800">Solicitar</button>
                    </div>

                    <!-- Tarjeta Carro -->
                    <div class="bg-white p-6 rounded-2xl shadow-xl border-2 border-blue-600 w-full md:w-80 transform md:-translate-y-4">
                        <div class="text-center mb-4"><i class="fas fa-car text-4xl text-blue-600"></i><h3 class="text-xl font-bold mt-2">Veh√≠culos</h3></div>
                        <div class="bg-green-50 p-3 rounded mb-3 border border-green-100">
                            <div class="font-bold text-green-800 text-xs mb-1">MULTISEGUROS (B√°sico)</div>
                            <div class="flex justify-between text-sm"><span>Econ√≥mico</span><b>$10</b></div>
                            <div class="flex justify-between text-sm"><span>Plus</span><b>$12</b></div>
                        </div>
                        <div class="bg-blue-50 p-3 rounded border border-blue-100 relative">
                            <div class="absolute -top-2 -right-2 bg-blue-900 text-white text-[9px] px-2 py-1 rounded font-bold">CON QR üì≤</div>
                            <div class="font-bold text-blue-800 text-xs mb-1">CONSERES (Premium)</div>
                            <div class="flex justify-between text-sm"><span>Est√°ndar</span><b>$15</b></div>
                            <div class="flex justify-between text-sm"><span>Full</span><b>$20</b></div>
                        </div>
                        <button onclick="contactWhatsapp('Me interesa RCV Carro')" class="w-full mt-4 bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 shadow-lg">Solicitar Ahora</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECCI√ìN DE PAGOS -->
        <section id="pagos" class="bg-slate-100 py-16">
            <div class="max-w-6xl mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-slate-800 mb-2">M√©todos de Pago</h2>
                <p class="text-center text-slate-500 mb-10">Aceptamos m√∫ltiples formas de pago para tu comodidad.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    
                    <!-- PAGO M√ìVIL -->
                    <div class="pay-card bg-white p-6 rounded-xl shadow border border-slate-200 text-center">
                        <img src="https://cdn-icons-png.flaticon.com/512/5323/5323577.png" class="w-12 h-12 mx-auto mb-3" alt="Pago M√≥vil">
                        <h3 class="font-bold text-slate-700 mb-4">Pago M√≥vil</h3>
                        <div class="text-left text-sm space-y-3">
                            <div>
                                <span class="text-xs text-gray-400 block">Banco</span>
                                <span class="font-bold text-slate-800">PROVINCIAL (0108)</span>
                            </div>
                            <div>
                                <span class="text-xs text-gray-400 block">C√©dula</span>
                                <div class="flex justify-between items-center bg-gray-50 p-2 rounded border">
                                    <span id="pm-cedula">15505806</span>
                                    <i data-lucide="copy" class="w-4 h-4 copy-btn text-blue-500" onclick="copiar('pm-cedula')"></i>
                                </div>
                            </div>
                            <div>
                                <span class="text-xs text-gray-400 block">Tel√©fono</span>
                                <div class="flex justify-between items-center bg-gray-50 p-2 rounded border">
                                    <span id="pm-telf">04127008160</span>
                                    <i data-lucide="copy" class="w-4 h-4 copy-btn text-blue-500" onclick="copiar('pm-telf')"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- BINANCE -->
                    <div class="pay-card bg-white p-6 rounded-xl shadow border border-yellow-200 text-center relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-full h-1 bg-yellow-400"></div>
                        <img src="https://upload.wikimedia.org/wikipedia/commons/e/e8/Binance_Logo.svg" class="w-12 h-12 mx-auto mb-3" alt="Binance">
                        <h3 class="font-bold text-slate-700 mb-4">Binance Pay</h3>
                        <div class="text-left text-sm space-y-3">
                            <div>
                                <span class="text-xs text-gray-400 block">Pay ID</span>
                                <div class="flex justify-between items-center bg-yellow-50 p-2 rounded border border-yellow-100">
                                    <span id="binance-id" class="text-sm font-bold truncate">439563645</span>
                                    <i data-lucide="copy" class="w-4 h-4 copy-btn text-yellow-600" onclick="copiar('binance-id')"></i>
                                </div>
                            </div>
                            <div class="text-center mt-2">
                                <span class="text-[10px] text-gray-400 bg-gray-100 px-2 py-1 rounded">USDT</span>
                            </div>
                        </div>
                    </div>

                    <!-- PAYPAL -->
                    <div class="pay-card bg-white p-6 rounded-xl shadow border border-blue-100 text-center">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg" class="w-20 h-12 mx-auto mb-3 object-contain" alt="PayPal">
                        <h3 class="font-bold text-slate-700 mb-4">PayPal</h3>
                        <div class="text-left text-sm space-y-3">
                            <div>
                                <span class="text-xs text-gray-400 block">Correo</span>
                                <div class="flex justify-between items-center bg-blue-50 p-2 rounded border border-blue-100">
                                    <!-- Usamos un div con overflow para el correo largo -->
                                    <div id="paypal-mail" class="text-[10px] truncate w-32" title="rossvindayanna0207@gmail.com">rossvindayanna0207@gmail.com</div>
                                    <i data-lucide="copy" class="w-4 h-4 copy-btn text-blue-500" onclick="copiar('paypal-mail')"></i>
                                </div>
                            </div>
                            <p class="text-[10px] text-gray-400 text-center mt-2">* Recuerda agregar la comisi√≥n.</p>
                        </div>
                    </div>

                    <!-- ZELLE / EFECTIVO -->
                    <div class="pay-card bg-white p-6 rounded-xl shadow border border-green-100 text-center">
                        <div class="flex justify-center gap-2 mb-3">
                            <i class="fas fa-money-bill-wave text-green-600 text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-slate-700 mb-4">Zelle / Efectivo</h3>
                        <div class="text-sm text-gray-600 space-y-2">
                            <p>Para pagos en divisas efectivo o Zelle, por favor contactar directamente para coordinar.</p>
                            <button onclick="contactWhatsapp('Quiero pagar con Zelle/Efectivo')" class="w-full bg-green-600 text-white py-2 rounded font-bold text-xs mt-2 hover:bg-green-700">Coordinar Pago</button>
                        </div>
                    </div>

                </div>

                <div class="text-center mt-10">
                    <button onclick="contactWhatsapp('Ya realic√© el pago, aqu√≠ est√° el comprobante')" class="bg-blue-900 text-white px-8 py-4 rounded-full font-bold text-lg shadow-xl hover:bg-blue-800 transition transform hover:scale-105 flex items-center justify-center mx-auto">
                        <i data-lucide="send" class="mr-2"></i> REPORTAR PAGO AL WHATSAPP
                    </button>
                </div>
            </div>
        </section>

        <!-- Verificaci√≥n -->
        <section id="verificacion" class="bg-blue-900 py-16 text-white text-center">
            <h2 class="text-2xl font-bold mb-4">Verifica tu P√≥liza (Sistema 5.0)</h2>
            <div class="max-w-md mx-auto bg-white/10 p-6 rounded-2xl border border-white/20">
                <input type="text" id="searchInput" class="w-full px-4 py-3 rounded text-gray-900 mb-2" placeholder="Ingrese Placa o C√©dula" onkeyup="if(event.key === 'Enter') verifyPolicy()">
                <button onclick="verifyPolicy()" class="w-full bg-green-500 text-white py-2 rounded font-bold">Consultar</button>
                <div id="searchResult" class="mt-4 hidden text-left"></div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-slate-950 text-slate-400 py-8 border-t border-slate-900 relative">
            <div class="max-w-7xl mx-auto px-4 flex justify-between items-center">
                <p class="text-xs">¬© 2024 Seguros RCV Online.</p>
                <!-- BOT√ìN SECRETO ADMIN -->
                <button onclick="openLoginModal()" class="text-slate-800 hover:text-slate-600"><i data-lucide="lock" class="w-4 h-4"></i></button>
            </div>
        </footer>

        <a href="https://wa.me/584127008160?text=Hola" target="_blank" class="whatsapp-float bg-green-500 text-white p-4 rounded-full shadow-xl"><i data-lucide="message-circle"></i></a>
    </div>

    <!-- ======================================================================== -->
    <!-- PANEL ADMINISTRATIVO (OCULTO) -->
    <!-- ======================================================================== -->
    <div id="app-admin" class="hidden h-screen bg-gray-100 flex flex-col md:flex-row">
        <!-- Panel Izquierdo -->
        <div id="app-admin-sidebar" class="w-full md:w-1/3 bg-white p-6 overflow-y-auto border-r shadow-xl z-10">
            <div class="flex justify-between mb-4">
                <h2 class="font-bold text-blue-900">ADMIN RCV 7.0</h2>
                <button onclick="location.reload()" class="text-red-500 text-xs font-bold">SALIR</button>
            </div>
            
            <form id="rcvForm" oninput="updatePreview()" class="space-y-3">
                <select id="sys_selector" class="w-full p-2 border rounded bg-gray-50 font-bold mb-2" onchange="cambiarSistema()">
                    <option value="conseres">üîµ CONSERES (QR)</option>
                    <option value="multiseguros">üü¢ MULTISEGUROS</option>
                </select>

                <!-- Datos Cliente -->
                <input type="text" id="admin_nombre" class="w-full p-2 border rounded text-xs" placeholder="Nombre">
                <input type="text" id="admin_cedula" class="w-full p-2 border rounded text-xs" placeholder="C√©dula">
                <input type="text" id="admin_telefono" class="w-full p-2 border rounded text-xs" placeholder="Tel√©fono">
                
                <!-- Datos Veh√≠culo -->
                <div class="grid grid-cols-2 gap-2">
                    <input type="text" id="admin_placa" class="w-full p-2 border rounded text-xs uppercase" placeholder="Placa">
                    <input type="text" id="admin_marca" class="w-full p-2 border rounded text-xs" placeholder="Marca">
                    <input type="text" id="admin_modelo" class="w-full p-2 border rounded text-xs" placeholder="Modelo">
                    <input type="number" id="admin_anio" class="w-full p-2 border rounded text-xs" placeholder="A√±o">
                    <input type="text" id="admin_color" class="w-full p-2 border rounded text-xs" placeholder="Color">
                    <input type="text" id="admin_serial" class="w-full p-2 border rounded text-xs" placeholder="Serial">
                </div>

                <!-- Plan -->
                <select id="admin_plan" class="w-full p-2 border rounded text-xs">
                    <optgroup label="MULTISEGUROS">
                        <option value="Moto B√°sico ($6)">Moto ($6)</option>
                        <option value="Moto Plus ($8)">Moto ($8)</option>
                        <option value="Carro B√°sico ($10)">Carro ($10)</option>
                        <option value="Carro Plus ($12)">Carro ($12)</option>
                    </optgroup>
                    <optgroup label="CONSERES">
                        <option value="Moto Est√°ndar ($10)">Moto ($10)</option>
                        <option value="Moto Premium ($15)">Moto ($15)</option>
                        <option value="Carro Est√°ndar ($15)">Carro ($15)</option>
                        <option value="Carro Premium ($20)">Carro ($20)</option>
                    </optgroup>
                </select>
                
                <div class="grid grid-cols-2 gap-2">
                    <input type="date" id="admin_fecha_emision" class="w-full p-2 border rounded text-xs">
                    <input type="date" id="admin_fecha_vencimiento" class="w-full p-2 border rounded text-xs">
                </div>

                <button type="button" onclick="window.print()" class="w-full bg-blue-900 text-white py-2 rounded font-bold text-sm">IMPRIMIR PDF</button>

                <!-- Caja Negra Generadora -->
                <div class="bg-black p-2 rounded mt-2">
                    <label class="text-[10px] text-green-400 font-bold">C√ìDIGO BASE DE DATOS:</label>
                    <textarea id="dbCode" class="w-full bg-gray-900 text-green-500 text-[10px] p-1 font-mono h-16 border-none resize-none" readonly onclick="this.select()"></textarea>
                    <button type="button" onclick="copyToClipboard()" class="w-full bg-green-600 text-white text-[10px] py-1 mt-1 rounded">COPIAR</button>
                </div>
            </form>
        </div>

        <!-- Vista Previa PDF -->
        <div class="w-full md:w-2/3 bg-gray-500 p-4 flex justify-center overflow-y-auto">
            <div id="policy-certificate" class="bg-white w-[210mm] min-h-[297mm] p-10 shadow-2xl relative text-gray-800">
                <!-- Marco -->
                <div class="absolute inset-4 border-4 border-double border-gray-200 pointer-events-none"></div>
                <!-- Cabecera -->
                <div class="flex justify-between items-start border-b-2 border-blue-900 pb-4 mb-6">
                    <div>
                        <h1 class="text-3xl font-bold text-blue-900 uppercase">Certificado RCV</h1>
                        <p class="text-sm font-bold text-gray-500" id="pdf_empresa">Servicios Internacionales CONSERES</p>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-bold text-red-600">P√ìLIZA N¬∞ <span id="prev_poliza">2024-001</span></div>
                        <div class="text-xs text-gray-500">Sistema 5.0</div>
                    </div>
                </div>
                <!-- Cuerpo -->
                <div class="grid grid-cols-2 gap-8 mb-6 text-sm">
                    <div>
                        <h3 class="bg-blue-100 text-blue-900 font-bold px-2 py-1 mb-2">ASEGURADO</h3>
                        <p><b>Nombre:</b> <span id="prev_nombre" class="uppercase">---</span></p>
                        <p><b>C√©dula:</b> <span id="prev_cedula" class="uppercase">---</span></p>
                        <p><b>Tel√©fono:</b> <span id="prev_telefono">---</span></p>
                    </div>
                    <div>
                        <h3 class="bg-blue-100 text-blue-900 font-bold px-2 py-1 mb-2">VIGENCIA</h3>
                        <p><b>Desde:</b> <span id="prev_desde">---</span></p>
                        <p><b>Hasta:</b> <span id="prev_hasta">---</span></p>
                        <p><b>Estado:</b> <span class="text-green-600 font-bold">ACTIVO / PAGADO</span></p>
                    </div>
                </div>
                <!-- Veh√≠culo -->
                <div class="mb-6">
                    <h3 class="bg-blue-900 text-white font-bold px-2 py-1 text-sm text-center mb-2">VEH√çCULO</h3>
                    <table class="w-full text-sm border border-gray-300 text-center">
                        <tr class="bg-gray-100 font-bold"><td>PLACA</td><td>MARCA</td><td>MODELO</td><td>A√ëO</td><td>COLOR</td></tr>
                        <tr class="uppercase">
                            <td class="p-2 border font-bold text-lg" id="prev_placa">---</td>
                            <td class="p-2 border" id="prev_marca">---</td>
                            <td class="p-2 border" id="prev_modelo">---</td>
                            <td class="p-2 border" id="prev_anio">---</td>
                            <td class="p-2 border" id="prev_color">---</td>
                        </tr>
                    </table>
                    <p class="text-xs mt-2 ml-1">Serial: <span id="prev_serial" class="uppercase font-mono">---</span></p>
                </div>
                <!-- QR -->
                <div class="border-t-2 border-gray-300 pt-6 flex justify-between items-end">
                    <div class="text-xs text-gray-500 w-2/3">
                        <p>Certificado conforme a la Ley de Transporte Terrestre. Validez sujeta al pago de prima.</p>
                        <p class="font-bold mt-2 text-black">EMERGENCIAS: 0412-7008160</p>
                    </div>
                    <div class="w-1/3 flex flex-col items-center">
                        <div id="qrcode" class="border p-1 bg-white mb-1"></div>
                        <p class="text-[8px] font-bold text-blue-900 uppercase">Escanear para Verificar</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="login-modal" class="fixed inset-0 bg-black/80 hidden z-50 flex items-center justify-center">
        <div class="bg-white p-8 rounded shadow-lg">
            <h2 class="font-bold mb-4">Acceso Admin</h2>
            <input type="password" id="admin-pass" class="border p-2 w-full mb-4" placeholder="Contrase√±a">
            <button onclick="checkLogin()" class="bg-blue-900 text-white px-4 py-2 rounded w-full">Entrar</button>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // 1. BASE DE DATOS (CLIENTES P√öBLICOS)
        const dataBase = [
            { placa: "AB123CD", cedula: "V123456", nombre: "Usuario Prueba", vencimiento: "31/12/2025" },
            // { placa: "AJ0193R", cedula: "29583232", nombre: "JOSLAYKER JOSUE PIRCA GAVIDIA", vencimiento: "22/01/2027" },
            
        ];

        // 2. L√ìGICA DE PAGOS (COPIAR DATOS)
        function copiar(id) {
            const text = document.getElementById(id).innerText;
            navigator.clipboard.writeText(text);
            alert("Dato copiado: " + text);
        }

        // 3. L√ìGICA VERIFICACI√ìN P√öBLICA
        function verifyPolicy() {
            const input = document.getElementById('searchInput').value.toUpperCase().trim();
            const resultDiv = document.getElementById('searchResult');
            resultDiv.classList.remove('hidden');
            
            const found = dataBase.find(item => item.placa === input || item.cedula === input);
            if (found) {
                resultDiv.innerHTML = `<div class="bg-green-100 p-4 rounded text-green-800 border border-green-300"><p class="font-bold">‚úÖ ACTIVO</p><p class="text-sm">${found.nombre}</p><p class="text-xs">Vence: ${found.vencimiento}</p></div>`;
            } else {
                resultDiv.innerHTML = `<div class="bg-red-100 p-4 rounded text-red-800 border border-red-300"><p class="font-bold">‚ùå NO ENCONTRADO</p></div>`;
            }
        }

        // 4. L√ìGICA ADMIN
        function openLoginModal() { document.getElementById('login-modal').classList.remove('hidden'); }
        function checkLogin() {
            if (document.getElementById('admin-pass').value === "admin2024") {
                document.getElementById('app-public').classList.add('hidden');
                document.getElementById('app-admin').classList.remove('hidden');
                document.getElementById('login-modal').classList.add('hidden');
                updatePreview();
            } else { alert("Error"); }
        }

        function updatePreview() {
            // Actualizar campos PDF
            const fields = ['nombre', 'cedula', 'telefono', 'placa', 'marca', 'modelo', 'anio', 'color', 'serial'];
            fields.forEach(f => {
                const val = document.getElementById('admin_' + f).value;
                const el = document.getElementById('prev_' + f);
                if (el) el.innerText = val || '---';
            });

            // Fechas
            const emision = document.getElementById('admin_fecha_emision').value;
            const vence = document.getElementById('admin_fecha_vencimiento').value;
            if(emision) document.getElementById('prev_desde').innerText = emision.split('-').reverse().join('/');
            if(vence) document.getElementById('prev_hasta').innerText = vence.split('-').reverse().join('/');

            // QR
            const qrContainer = document.getElementById("qrcode");
            qrContainer.innerHTML = "";
            // El QR lleva a la web p√∫blica para verificar
            new QRCode(qrContainer, { text: "https://segurosrcvonline.github.io/segurosrcv/", width: 70, height: 70 });

            // C√≥digo GitHub
            const p = document.getElementById('admin_placa').value.toUpperCase();
            const c = document.getElementById('admin_cedula').value.toUpperCase();
            const n = document.getElementById('admin_nombre').value.toUpperCase();
            const vFormatted = vence ? vence.split('-').reverse().join('/') : '---';
            
            if(p) {
                document.getElementById('dbCode').value = `{ placa: "${p}", cedula: "${c}", nombre: "${n}", vencimiento: "${vFormatted}" },`;
            }
        }

        function copyToClipboard() {
            const copyText = document.getElementById("dbCode");
            copyText.select();
            navigator.clipboard.writeText(copyText.value);
            alert("C√≥digo copiado. P√©galo en GitHub.");
        }

        // Configuraci√≥n Inicial
        const today = new Date();
        document.getElementById('admin_fecha_emision').valueAsDate = today;
        const nextYear = new Date();
        nextYear.setFullYear(today.getFullYear() + 1);
        document.getElementById('admin_fecha_vencimiento').valueAsDate = nextYear;

        // Whatsapp
        function contactWhatsapp(msg) { window.open(`https://wa.me/584127008160?text=${encodeURIComponent(msg)}`, '_blank'); }
        function toggleMobileMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }
        
        function cambiarSistema() {
            const sys = document.getElementById('sys_selector').value;
            const empresa = document.getElementById('pdf_empresa');
            if(sys === 'conseres') {
                empresa.innerText = "Servicios Internacionales CONSERES";
                empresa.style.color = "#1a237e";
            } else {
                empresa.innerText = "MULTISEGUROS 881 C.A.";
                empresa.style.color = "#1b5e20";
            }
        }
    </script>
</body>
</html>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Roboto+Mono:wght@400;500&family=Courier+Prime:wght@700&family=Special+Elite&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .hero-gradient { background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 100%); }
        
        /* Animaci√≥n Bot√≥n WhatsApp */
        .whatsapp-float {
            position: fixed; bottom: 20px; right: 20px; z-index: 50;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(37, 211, 102, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
        }

        /* Estilos Tarjetas de Pago */
        .pay-card { transition: transform 0.2s; }
        .pay-card:hover { transform: translateY(-5px); }
        .copy-btn { cursor: pointer; opacity: 0.7; transition: 0.2s; }
        .copy-btn:hover { opacity: 1; transform: scale(1.1); }

        /* ESTILOS DE IMPRESI√ìN (PDF) */
        @media print {
            body * { visibility: hidden; }
            #policy-certificate, #policy-certificate * { visibility: visible; }
            #policy-certificate { 
                position: absolute; left: 0; top: 0; width: 100%; margin: 0; padding: 0;
                box-shadow: none; border: 2px solid #1e3a8a;
            }
            #app-public, #app-admin-sidebar, #login-modal { display: none !important; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- ======================================================================== -->
    <!-- VISTA P√öBLICA (CLIENTES) -->
    <!-- ======================================================================== -->
    <div id="app-public">
        
        <!-- Navbar -->
        <nav class="bg-white shadow-sm fixed w-full z-40 top-0">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16 items-center">
                    <div class="flex items-center text-blue-900">
                        <i data-lucide="shield-check" class="h-8 w-8 mr-2 text-blue-600"></i>
                        <span class="font-bold text-xl tracking-tight">Seguros RCV Online</span>
                    </div>
                    <div class="hidden md:flex space-x-8">
                        <a href="#inicio" class="text-gray-600 hover:text-blue-600 font-medium">Inicio</a>
                        <a href="#precios" class="text-gray-600 hover:text-blue-600 font-medium">Precios</a>
                        <a href="#pagos" class="text-blue-600 font-bold hover:text-blue-800">M√©todos de Pago</a>
                        <a href="#verificacion" class="text-gray-600 hover:text-blue-600 font-medium">Verificar</a>
                    </div>
                    <button class="md:hidden text-gray-600" onclick="toggleMobileMenu()">
                        <i data-lucide="menu" class="h-6 w-6"></i>
                    </button>
                </div>
            </div>
            <!-- Men√∫ M√≥vil -->
            <div id="mobile-menu" class="hidden md:hidden bg-white border-t p-4">
                <a href="#precios" class="block py-2 text-gray-600">Precios</a>
                <a href="#pagos" class="block py-2 text-blue-600 font-bold">Pagar Ahora</a>
                <a href="#verificacion" class="block py-2 text-gray-600">Verificar P√≥liza</a>
            </div>
        </nav>

        <!-- Hero Section -->
        <header id="inicio" class="hero-gradient text-white pt-24 pb-16 lg:pt-32 lg:pb-24 rounded-b-[3rem]">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row items-center">
                <div class="md:w-1/2 text-center md:text-left mb-10 md:mb-0">
                    <span class="bg-blue-500 bg-opacity-20 text-blue-100 px-4 py-1 rounded-full text-sm font-semibold mb-4 inline-block">
                        üîí Cumple con la Ley de Tr√°nsito
                    </span>
                    <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-6">
                        Tu RCV Legal <br/>en <span class="text-blue-400">5 Minutos</span>
                    </h1>
                    <p class="text-lg text-blue-100 mb-8 max-w-lg mx-auto md:mx-0">
                        Evita multas y retenciones. P√≥liza con C√≥digo QR (Sistema 5.0) verificable al instante.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                        <a href="#precios" class="bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-full font-bold text-lg transition shadow-lg text-center flex items-center justify-center">
                            Ver Planes <i data-lucide="chevron-right" class="ml-2 w-5 h-5"></i>
                        </a>
                        <button onclick="contactWhatsapp('Quiero informaci√≥n general')" class="bg-white text-blue-900 hover:bg-gray-100 px-8 py-3 rounded-full font-bold text-lg transition shadow-lg border-2 border-transparent hover:border-blue-200 flex items-center justify-center">
                            <i data-lucide="message-circle" class="mr-2 w-5 h-5"></i> Chat WhatsApp
                        </button>
                    </div>
                </div>
                <div class="md:w-1/2 flex justify-center">
                    <div class="relative w-80 h-80 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm shadow-2xl border border-white/20">
                        <i data-lucide="car-front" class="w-40 h-40 text-white drop-shadow-lg"></i>
                    </div>
                </div>
            </div>
        </header>

        <!-- Precios -->
        <section id="precios" class="py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl font-bold text-gray-900 mb-12">Nuestros Planes</h2>
                <div class="flex flex-wrap justify-center gap-8">
                    
                    <!-- Tarjeta Moto -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100 w-full md:w-80 hover:shadow-xl transition">
                        <div class="text-center mb-4"><i class="fas fa-motorcycle text-4xl text-blue-900"></i><h3 class="text-xl font-bold mt-2">Motos</h3></div>
                        <div class="bg-green-50 p-3 rounded mb-3 border border-green-100">
                            <div class="font-bold text-green-800 text-xs mb-1">MULTISEGUROS (B√°sico)</div>
                            <div class="flex justify-between text-sm"><span>Econ√≥mico</span><b>$6</b></div>
                            <div class="flex justify-between text-sm"><span>Plus</span><b>$8</b></div>
                        </div>
                        <div class="bg-blue-50 p-3 rounded border border-blue-100 relative">
                            <div class="absolute -top-2 -right-2 bg-blue-900 text-white text-[9px] px-2 py-1 rounded font-bold">CON QR üì≤</div>
                            <div class="font-bold text-blue-800 text-xs mb-1">CONSERES (Premium)</div>
                            <div class="flex justify-between text-sm"><span>Est√°ndar</span><b>$10</b></div>
                            <div class="flex justify-between text-sm"><span>Full</span><b>$15</b></div>
                        </div>
                        <button onclick="contactWhatsapp('Me interesa RCV Moto')" class="w-full mt-4 bg-gray-900 text-white py-2 rounded-lg font-bold hover:bg-gray-800">Solicitar</button>
                    </div>

                    <!-- Tarjeta Carro -->
                    <div class="bg-white p-6 rounded-2xl shadow-xl border-2 border-blue-600 w-full md:w-80 transform md:-translate-y-4">
                        <div class="text-center mb-4"><i class="fas fa-car text-4xl text-blue-600"></i><h3 class="text-xl font-bold mt-2">Veh√≠culos</h3></div>
                        <div class="bg-green-50 p-3 rounded mb-3 border border-green-100">
                            <div class="font-bold text-green-800 text-xs mb-1">MULTISEGUROS (B√°sico)</div>
                            <div class="flex justify-between text-sm"><span>Econ√≥mico</span><b>$10</b></div>
                            <div class="flex justify-between text-sm"><span>Plus</span><b>$12</b></div>
                        </div>
                        <div class="bg-blue-50 p-3 rounded border border-blue-100 relative">
                            <div class="absolute -top-2 -right-2 bg-blue-900 text-white text-[9px] px-2 py-1 rounded font-bold">CON QR üì≤</div>
                            <div class="font-bold text-blue-800 text-xs mb-1">CONSERES (Premium)</div>
                            <div class="flex justify-between text-sm"><span>Est√°ndar</span><b>$15</b></div>
                            <div class="flex justify-between text-sm"><span>Full</span><b>$20</b></div>
                        </div>
                        <button onclick="contactWhatsapp('Me interesa RCV Carro')" class="w-full mt-4 bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 shadow-lg">Solicitar Ahora</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECCI√ìN DE PAGOS -->
        <section id="pagos" class="bg-slate-100 py-16">
            <div class="max-w-6xl mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-slate-800 mb-2">M√©todos de Pago</h2>
                <p class="text-center text-slate-500 mb-10">Aceptamos m√∫ltiples formas de pago para tu comodidad.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    
                    <!-- PAGO M√ìVIL -->
                    <div class="pay-card bg-white p-6 rounded-xl shadow border border-slate-200 text-center">
                        <img src="https://cdn-icons-png.flaticon.com/512/5323/5323577.png" class="w-12 h-12 mx-auto mb-3" alt="Pago M√≥vil">
                        <h3 class="font-bold text-slate-700 mb-4">Pago M√≥vil</h3>
                        <div class="text-left text-sm space-y-3">
                            <div>
                                <span class="text-xs text-gray-400 block">Banco</span>
                                <span class="font-bold text-slate-800">PROVINCIAL (0108)</span>
                            </div>
                            <div>
                                <span class="text-xs text-gray-400 block">C√©dula</span>
                                <div class="flex justify-between items-center bg-gray-50 p-2 rounded border">
                                    <span id="pm-cedula">15505806</span>
                                    <i data-lucide="copy" class="w-4 h-4 copy-btn text-blue-500" onclick="copiar('pm-cedula')"></i>
                                </div>
                            </div>
                            <div>
                                <span class="text-xs text-gray-400 block">Tel√©fono</span>
                                <div class="flex justify-between items-center bg-gray-50 p-2 rounded border">
                                    <span id="pm-telf">04127008160</span>
                                    <i data-lucide="copy" class="w-4 h-4 copy-btn text-blue-500" onclick="copiar('pm-telf')"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- BINANCE -->
                    <div class="pay-card bg-white p-6 rounded-xl shadow border border-yellow-200 text-center relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-full h-1 bg-yellow-400"></div>
                        <img src="https://upload.wikimedia.org/wikipedia/commons/e/e8/Binance_Logo.svg" class="w-12 h-12 mx-auto mb-3" alt="Binance">
                        <h3 class="font-bold text-slate-700 mb-4">Binance Pay</h3>
                        <div class="text-left text-sm space-y-3">
                            <div>
                                <span class="text-xs text-gray-400 block">Pay ID</span>
                                <div class="flex justify-between items-center bg-yellow-50 p-2 rounded border border-yellow-100">
                                    <span id="binance-id" class="text-sm font-bold truncate">439563645</span>
                                    <i data-lucide="copy" class="w-4 h-4 copy-btn text-yellow-600" onclick="copiar('binance-id')"></i>
                                </div>
                            </div>
                            <div class="text-center mt-2">
                                <span class="text-[10px] text-gray-400 bg-gray-100 px-2 py-1 rounded">USDT</span>
                            </div>
                        </div>
                    </div>

                    <!-- PAYPAL -->
                    <div class="pay-card bg-white p-6 rounded-xl shadow border border-blue-100 text-center">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg" class="w-20 h-12 mx-auto mb-3 object-contain" alt="PayPal">
                        <h3 class="font-bold text-slate-700 mb-4">PayPal</h3>
                        <div class="text-left text-sm space-y-3">
                            <div>
                                <span class="text-xs text-gray-400 block">Correo</span>
                                <div class="flex justify-between items-center bg-blue-50 p-2 rounded border border-blue-100">
                                    <!-- Usamos un div con overflow para el correo largo -->
                                    <div id="paypal-mail" class="text-[10px] truncate w-32" title="rossvindayanna0207@gmail.com">rossvindayanna0207@gmail.com</div>
                                    <i data-lucide="copy" class="w-4 h-4 copy-btn text-blue-500" onclick="copiar('paypal-mail')"></i>
                                </div>
                            </div>
                            <p class="text-[10px] text-gray-400 text-center mt-2">* Recuerda agregar la comisi√≥n.</p>
                        </div>
                    </div>

                    <!-- ZELLE / EFECTIVO -->
                    <div class="pay-card bg-white p-6 rounded-xl shadow border border-green-100 text-center">
                        <div class="flex justify-center gap-2 mb-3">
                            <i class="fas fa-money-bill-wave text-green-600 text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-slate-700 mb-4">Zelle / Efectivo</h3>
                        <div class="text-sm text-gray-600 space-y-2">
                            <p>Para pagos en divisas efectivo o Zelle, por favor contactar directamente para coordinar.</p>
                            <button onclick="contactWhatsapp('Quiero pagar con Zelle/Efectivo')" class="w-full bg-green-600 text-white py-2 rounded font-bold text-xs mt-2 hover:bg-green-700">Coordinar Pago</button>
                        </div>
                    </div>

                </div>

                <div class="text-center mt-10">
                    <button onclick="contactWhatsapp('Ya realic√© el pago, aqu√≠ est√° el comprobante')" class="bg-blue-900 text-white px-8 py-4 rounded-full font-bold text-lg shadow-xl hover:bg-blue-800 transition transform hover:scale-105 flex items-center justify-center mx-auto">
                        <i data-lucide="send" class="mr-2"></i> REPORTAR PAGO AL WHATSAPP
                    </button>
                </div>
            </div>
        </section>

        <!-- Verificaci√≥n -->
        <section id="verificacion" class="bg-blue-900 py-16 text-white text-center">
            <h2 class="text-2xl font-bold mb-4">Verifica tu P√≥liza (Sistema 5.0)</h2>
            <div class="max-w-md mx-auto bg-white/10 p-6 rounded-2xl border border-white/20">
                <input type="text" id="searchInput" class="w-full px-4 py-3 rounded text-gray-900 mb-2" placeholder="Ingrese Placa o C√©dula" onkeyup="if(event.key === 'Enter') verifyPolicy()">
                <button onclick="verifyPolicy()" class="w-full bg-green-500 text-white py-2 rounded font-bold">Consultar</button>
                <div id="searchResult" class="mt-4 hidden text-left"></div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-slate-950 text-slate-400 py-8 border-t border-slate-900 relative">
            <div class="max-w-7xl mx-auto px-4 flex justify-between items-center">
                <p class="text-xs">¬© 2024 Seguros RCV Online.</p>
                <!-- BOT√ìN SECRETO ADMIN -->
                <button onclick="openLoginModal()" class="text-slate-800 hover:text-slate-600"><i data-lucide="lock" class="w-4 h-4"></i></button>
            </div>
        </footer>

        <a href="https://wa.me/584127008160?text=Hola" target="_blank" class="whatsapp-float bg-green-500 text-white p-4 rounded-full shadow-xl"><i data-lucide="message-circle"></i></a>
    </div>

    <!-- ======================================================================== -->
    <!-- PANEL ADMINISTRATIVO (OCULTO) -->
    <!-- ======================================================================== -->
    <div id="app-admin" class="hidden h-screen bg-gray-100 flex flex-col md:flex-row">
        <!-- Panel Izquierdo -->
        <div id="app-admin-sidebar" class="w-full md:w-1/3 bg-white p-6 overflow-y-auto border-r shadow-xl z-10">
            <div class="flex justify-between mb-4">
                <h2 class="font-bold text-blue-900">ADMIN RCV 7.0</h2>
                <button onclick="location.reload()" class="text-red-500 text-xs font-bold">SALIR</button>
            </div>
            
            <form id="rcvForm" oninput="updatePreview()" class="space-y-3">
                <select id="sys_selector" class="w-full p-2 border rounded bg-gray-50 font-bold mb-2" onchange="cambiarSistema()">
                    <option value="conseres">üîµ CONSERES (QR)</option>
                    <option value="multiseguros">üü¢ MULTISEGUROS</option>
                </select>

                <!-- Datos Cliente -->
                <input type="text" id="admin_nombre" class="w-full p-2 border rounded text-xs" placeholder="Nombre">
                <input type="text" id="admin_cedula" class="w-full p-2 border rounded text-xs" placeholder="C√©dula">
                <input type="text" id="admin_telefono" class="w-full p-2 border rounded text-xs" placeholder="Tel√©fono">
                
                <!-- Datos Veh√≠culo -->
                <div class="grid grid-cols-2 gap-2">
                    <input type="text" id="admin_placa" class="w-full p-2 border rounded text-xs uppercase" placeholder="Placa">
                    <input type="text" id="admin_marca" class="w-full p-2 border rounded text-xs" placeholder="Marca">
                    <input type="text" id="admin_modelo" class="w-full p-2 border rounded text-xs" placeholder="Modelo">
                    <input type="number" id="admin_anio" class="w-full p-2 border rounded text-xs" placeholder="A√±o">
                    <input type="text" id="admin_color" class="w-full p-2 border rounded text-xs" placeholder="Color">
                    <input type="text" id="admin_serial" class="w-full p-2 border rounded text-xs" placeholder="Serial">
                </div>

                <!-- Plan -->
                <select id="admin_plan" class="w-full p-2 border rounded text-xs">
                    <optgroup label="MULTISEGUROS">
                        <option value="Moto B√°sico ($6)">Moto ($6)</option>
                        <option value="Moto Plus ($8)">Moto ($8)</option>
                        <option value="Carro B√°sico ($10)">Carro ($10)</option>
                        <option value="Carro Plus ($12)">Carro ($12)</option>
                    </optgroup>
                    <optgroup label="CONSERES">
                        <option value="Moto Est√°ndar ($10)">Moto ($10)</option>
                        <option value="Moto Premium ($15)">Moto ($15)</option>
                        <option value="Carro Est√°ndar ($15)">Carro ($15)</option>
                        <option value="Carro Premium ($20)">Carro ($20)</option>
                    </optgroup>
                </select>
                
                <div class="grid grid-cols-2 gap-2">
                    <input type="date" id="admin_fecha_emision" class="w-full p-2 border rounded text-xs">
                    <input type="date" id="admin_fecha_vencimiento" class="w-full p-2 border rounded text-xs">
                </div>

                <button type="button" onclick="window.print()" class="w-full bg-blue-900 text-white py-2 rounded font-bold text-sm">IMPRIMIR PDF</button>

                <!-- Caja Negra Generadora -->
                <div class="bg-black p-2 rounded mt-2">
                    <label class="text-[10px] text-green-400 font-bold">C√ìDIGO BASE DE DATOS:</label>
                    <textarea id="dbCode" class="w-full bg-gray-900 text-green-500 text-[10px] p-1 font-mono h-16 border-none resize-none" readonly onclick="this.select()"></textarea>
                    <button type="button" onclick="copyToClipboard()" class="w-full bg-green-600 text-white text-[10px] py-1 mt-1 rounded">COPIAR</button>
                </div>
            </form>
        </div>

        <!-- Vista Previa PDF -->
        <div class="w-full md:w-2/3 bg-gray-500 p-4 flex justify-center overflow-y-auto">
            <div id="policy-certificate" class="bg-white w-[210mm] min-h-[297mm] p-10 shadow-2xl relative text-gray-800">
                <!-- Marco -->
                <div class="absolute inset-4 border-4 border-double border-gray-200 pointer-events-none"></div>
                <!-- Cabecera -->
                <div class="flex justify-between items-start border-b-2 border-blue-900 pb-4 mb-6">
                    <div>
                        <h1 class="text-3xl font-bold text-blue-900 uppercase">Certificado RCV</h1>
                        <p class="text-sm font-bold text-gray-500" id="pdf_empresa">Servicios Internacionales CONSERES</p>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-bold text-red-600">P√ìLIZA N¬∞ <span id="prev_poliza">2024-001</span></div>
                        <div class="text-xs text-gray-500">Sistema 5.0</div>
                    </div>
                </div>
                <!-- Cuerpo -->
                <div class="grid grid-cols-2 gap-8 mb-6 text-sm">
                    <div>
                        <h3 class="bg-blue-100 text-blue-900 font-bold px-2 py-1 mb-2">ASEGURADO</h3>
                        <p><b>Nombre:</b> <span id="prev_nombre" class="uppercase">---</span></p>
                        <p><b>C√©dula:</b> <span id="prev_cedula" class="uppercase">---</span></p>
                        <p><b>Tel√©fono:</b> <span id="prev_telefono">---</span></p>
                    </div>
                    <div>
                        <h3 class="bg-blue-100 text-blue-900 font-bold px-2 py-1 mb-2">VIGENCIA</h3>
                        <p><b>Desde:</b> <span id="prev_desde">---</span></p>
                        <p><b>Hasta:</b> <span id="prev_hasta">---</span></p>
                        <p><b>Estado:</b> <span class="text-green-600 font-bold">ACTIVO / PAGADO</span></p>
                    </div>
                </div>
                <!-- Veh√≠culo -->
                <div class="mb-6">
                    <h3 class="bg-blue-900 text-white font-bold px-2 py-1 text-sm text-center mb-2">VEH√çCULO</h3>
                    <table class="w-full text-sm border border-gray-300 text-center">
                        <tr class="bg-gray-100 font-bold"><td>PLACA</td><td>MARCA</td><td>MODELO</td><td>A√ëO</td><td>COLOR</td></tr>
                        <tr class="uppercase">
                            <td class="p-2 border font-bold text-lg" id="prev_placa">---</td>
                            <td class="p-2 border" id="prev_marca">---</td>
                            <td class="p-2 border" id="prev_modelo">---</td>
                            <td class="p-2 border" id="prev_anio">---</td>
                            <td class="p-2 border" id="prev_color">---</td>
                        </tr>
                    </table>
                    <p class="text-xs mt-2 ml-1">Serial: <span id="prev_serial" class="uppercase font-mono">---</span></p>
                </div>
                <!-- QR -->
                <div class="border-t-2 border-gray-300 pt-6 flex justify-between items-end">
                    <div class="text-xs text-gray-500 w-2/3">
                        <p>Certificado conforme a la Ley de Transporte Terrestre. Validez sujeta al pago de prima.</p>
                        <p class="font-bold mt-2 text-black">EMERGENCIAS: 0412-7008160</p>
                    </div>
                    <div class="w-1/3 flex flex-col items-center">
                        <div id="qrcode" class="border p-1 bg-white mb-1"></div>
                        <p class="text-[8px] font-bold text-blue-900 uppercase">Escanear para Verificar</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="login-modal" class="fixed inset-0 bg-black/80 hidden z-50 flex items-center justify-center">
        <div class="bg-white p-8 rounded shadow-lg">
            <h2 class="font-bold mb-4">Acceso Admin</h2>
            <input type="password" id="admin-pass" class="border p-2 w-full mb-4" placeholder="Contrase√±a">
            <button onclick="checkLogin()" class="bg-blue-900 text-white px-4 py-2 rounded w-full">Entrar</button>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // 1. BASE DE DATOS (CLIENTES P√öBLICOS)
        const dataBase = [
            { placa: "AB123CD", cedula: "V123456", nombre: "Usuario Prueba", vencimiento: "31/12/2025" },
            // PEGA AQU√ç LOS C√ìDIGOS NUEVOS
            
        ];

        // 2. L√ìGICA DE PAGOS (COPIAR DATOS)
        function copiar(id) {
            const text = document.getElementById(id).innerText;
            navigator.clipboard.writeText(text);
            alert("Dato copiado: " + text);
        }

        // 3. L√ìGICA VERIFICACI√ìN P√öBLICA
        function verifyPolicy() {
            const input = document.getElementById('searchInput').value.toUpperCase().trim();
            const resultDiv = document.getElementById('searchResult');
            resultDiv.classList.remove('hidden');
            
            const found = dataBase.find(item => item.placa === input || item.cedula === input);
            if (found) {
                resultDiv.innerHTML = `<div class="bg-green-100 p-4 rounded text-green-800 border border-green-300"><p class="font-bold">‚úÖ ACTIVO</p><p class="text-sm">${found.nombre}</p><p class="text-xs">Vence: ${found.vencimiento}</p></div>`;
            } else {
                resultDiv.innerHTML = `<div class="bg-red-100 p-4 rounded text-red-800 border border-red-300"><p class="font-bold">‚ùå NO ENCONTRADO</p></div>`;
            }
        }

        // 4. L√ìGICA ADMIN
        function openLoginModal() { document.getElementById('login-modal').classList.remove('hidden'); }
        function checkLogin() {
            if (document.getElementById('admin-pass').value === "admin2024") {
                document.getElementById('app-public').classList.add('hidden');
                document.getElementById('app-admin').classList.remove('hidden');
                document.getElementById('login-modal').classList.add('hidden');
                updatePreview();
            } else { alert("Error"); }
        }

        function updatePreview() {
            // Actualizar campos PDF
            const fields = ['nombre', 'cedula', 'telefono', 'placa', 'marca', 'modelo', 'anio', 'color', 'serial'];
            fields.forEach(f => {
                const val = document.getElementById('admin_' + f).value;
                const el = document.getElementById('prev_' + f);
                if (el) el.innerText = val || '---';
            });

            // Fechas
            const emision = document.getElementById('admin_fecha_emision').value;
            const vence = document.getElementById('admin_fecha_vencimiento').value;
            if(emision) document.getElementById('prev_desde').innerText = emision.split('-').reverse().join('/');
            if(vence) document.getElementById('prev_hasta').innerText = vence.split('-').reverse().join('/');

            // QR
            const qrContainer = document.getElementById("qrcode");
            qrContainer.innerHTML = "";
            // El QR lleva a la web p√∫blica para verificar
            new QRCode(qrContainer, { text: "https://segurosrcvonline.github.io/segurosrcv/", width: 70, height: 70 });

            // C√≥digo GitHub
            const p = document.getElementById('admin_placa').value.toUpperCase();
            const c = document.getElementById('admin_cedula').value.toUpperCase();
            const n = document.getElementById('admin_nombre').value.toUpperCase();
            const vFormatted = vence ? vence.split('-').reverse().join('/') : '---';
            
            if(p) {
                document.getElementById('dbCode').value = `{ placa: "${p}", cedula: "${c}", nombre: "${n}", vencimiento: "${vFormatted}" },`;
            }
        }

        function copyToClipboard() {
            const copyText = document.getElementById("dbCode");
            copyText.select();
            navigator.clipboard.writeText(copyText.value);
            alert("{ placa: "AJ0193R", cedula: "29583232", nombre: "JOSLAYKER JOSUE PIRCA GAVIDIA", vencimiento: "22/01/2027" },");
        }

        // Configuraci√≥n Inicial
        const today = new Date();
        document.getElementById('admin_fecha_emision').valueAsDate = today;
        const nextYear = new Date();
        nextYear.setFullYear(today.getFullYear() + 1);
        document.getElementById('admin_fecha_vencimiento').valueAsDate = nextYear;

        // Whatsapp
        function contactWhatsapp(msg) { window.open(`https://wa.me/584127008160?text=${encodeURIComponent(msg)}`, '_blank'); }
        function toggleMobileMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }
        
        function cambiarSistema() {
            const sys = document.getElementById('sys_selector').value;
            const empresa = document.getElementById('pdf_empresa');
            if(sys === 'conseres') {
                empresa.innerText = "Servicios Internacionales CONSERES";
                empresa.style.color = "#1a237e";
            } else {
                empresa.innerText = "MULTISEGUROS 881 C.A.";
                empresa.style.color = "#1b5e20";
            }
        }
    </script>
</body>
</html>



